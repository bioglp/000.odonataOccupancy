install.packages("metafor")
export2019 <- read.csv("~/Desktop/export2019.csv")
View(export2019)
library(tidyverse)
export2019 %>%
select(LATIN_TAXON, centroidx, centroidy)
export2019 %>%
select(LATIN_TAXON, centroidx, centroidy) %>%
distinct()
dist <- export2019 %>%
select(LATIN_TAXON, centroidx, centroidy) %>%
distinct()
dist <- export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
distinct()
View(dist)
dist <- export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
distinct() %>%
arrange(DATE_YEAR)
View(dist)
write.csv(dist, 'odonataIT_export2019.csv')
unique(export2019$LATIN_TAXON)
unique(dist$LATIN_TAXON)
unique(dist$LATIN_TAXON) %>% arrange()
distinct(dist$LATIN_TAXON) %>% arrange()
dist %>%
distinct(LATIN_TAXON) %>%
arrange()
dist %>%
distinct(LATIN_TAXON) %>%
arrange(LATIN_TAXON)
dist <- export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
filter(LATIN_TAXON!='%sp.') %>%
distinct() %>%
arrange(DATE_YEAR)
export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
filter(LATIN_TAXON!='%sp.') %>%
distinct()
export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
filter(LATIN_TAXON!='% sp.')
export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
filter(!grepl(" sp\\.", LATIN_TAXON))
dist <- export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
filter(!grepl(" sp\\.", LATIN_TAXON)) %>%
distinct() %>%
arrange(DATE_YEAR)
dist <- export2019 %>%
select(DATE_YEAR, LATIN_TAXON, centroidx, centroidy) %>%
filter(!grepl(" sp\\.", LATIN_TAXON)) %>%
distinct() %>%
arrange(LATIN_TAXON, DATE_YEAR)
write.csv(dist, 'odonataIT_export2019.csv')
df <- read.csv('odonataIT_export2019.csv')
df
df <- read.csv('odonataIT_export2019.csv')
df
df <- read.csv('~Desktop/odonataIT_export2019.csv')
odonataIT_export2019 <- read.csv("~/Desktop/odonataIT_export2019.csv")
View(odonataIT_export2019)
df <- odonataIT_export2019 %>%
mutate(DATE = case_when(
DATE_YEAR < 1930 ~ "ANTE1930",
DATE_YEAR < 2000 ~ "1930-1999",
DATE_YEAR >= 2000 ~ "2000-2019"
))
df
df %>%
select(-DATE_YEAR)
df %>%
select(-c(X,DATE_YEAR))
df %>%
select(-c(X,DATE_YEAR)) %>%
write.csv(dist, 'odonataIT_export2019.csv')
df %>%
select(-c(X,DATE_YEAR)) %>%
write.csv('odonataIT_export2019.csv')
df %>%
select(-c(X,DATE_YEAR)) %>%
distinct() %>%
write.csv('odonataIT_export2019.csv')
library(rtrim)
install.packages("rtrim")
data(skylark2) # use extended version of the Skylark dataset
summary(skylark2)
library(rtrim)
data(skylark2) # use extended version of the Skylark dataset
summary(skylark2)
skylark2
idx <- which(names(skylark2)=="year")      # rename year->season
names(skylark2)[idx] <- "season"
count_summary(skylark2, year_col="season") # show that it works
skylark2
count_summary(skylark2, year_col="season") # show that it works
names(skylark2)[idx] <- "year"             # revert to original name
z1 <- trim(count ~ site + year, data=skylark2,
model=3, serialcor=TRUE, overdisp=TRUE)
summary(z1)
plot(overall(z1))
overall(z1)
# covariate
z2 <- trim(count ~ site + year + habitat,
data=skylark2, model=3,
serialcor=TRUE, overdisp=TRUE)
summary(z2)
plot(overall(z2))
plot(index(z2))
plot(overall(z1))
plot(index(z2,which="fitted",covars=TRUE))
library(rtrim)
data(skylark2) # use extended version of the Skylark dataset
summary(skylark2)
skylark2
idx <- which(names(skylark2)=="year")      # rename year->season
names(skylark2)[idx] <- "season"
count_summary(skylark2, year_col="season") # show that it works
names(skylark2)[idx] <- "year"             # revert to original name
z1 <- trim(count ~ site + year, data=skylark2,
model=3, serialcor=TRUE, overdisp=TRUE)
summary(z1)
plot(overall(z1))
# covariate
z2 <- trim(count ~ site + year + habitat,
data=skylark2, model=3,
serialcor=TRUE, overdisp=TRUE)
summary(z2)
plot(index(z2,which="fitted",covars=TRUE))
library(rtrim)
data(skylark2) # use extended version of the Skylark dataset
summary(skylark2)
skylark2
idx <- which(names(skylark2)=="year")      # rename year->season
names(skylark2)[idx] <- "season"
count_summary(skylark2, year_col="season") # show that it works
names(skylark2)[idx] <- "year"             # revert to original name
z1 <- trim(count ~ site + year, data=skylark2,
model=3, serialcor=TRUE, overdisp=TRUE)
summary(z1)
plot(overall(z1))
# covariate
z2 <- trim(count ~ site + year + habitat,
data=skylark2, model=3,
serialcor=TRUE, overdisp=TRUE)
summary(z2)
plot(index(z2,which="fitted",covars=TRUE))
data(skylark2) # use extended version of the Skylark dataset
skylark2
head(skylark2)
summary(skylark2)
?trim
setwd("~/Library/Mobile Documents/com~apple~CloudDocs/10.projects/000.occupancyOdonata/R-script")
